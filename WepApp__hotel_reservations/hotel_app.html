<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>Reservation Web App</title>
</head>
<style>
    :root {
        --fs-1: 1rem;
        --fs-2: 2rem;
        --fs-3: 3rem;
        --room-size: 40px;

        --color-base-1: #f5f7fd;
        /* --color-base-2: #464849; */

        /* --color-prime: #fff; */


        --color-busy: rgb(231, 92, 66);
        --color-vacant: rgb(63, 173, 78);
        --color-disabled: #c1c1c1;


        --ui-drop-shadow-1: 0px 8px 24px rgba(0, 0, 0, 0.405);
        --ui-drop-shadow-2: 0px 3px 25px rgba(0, 0, 0, 0.572);
        --shadow-tile: 0px 0px 10px 0px rgba(17, 17, 17, 0.271);

        --font-size-heading-1: 60px;
        --font-size-heading-2: 36px;
        --font-size-heading-3: 28px;

        --padding-text-1: 1em;
        --padding-text-2: 2em;
        --padding-container-1: 1em;
        --padding-container-2: 2em;

        --gutter-1: 1em;
        --gutter-2: 2em;
        --app-gutter: 15em;
        --room-border-radius: 4px;
        --btn-border-radius: 8px;
        --ui-card-width: 484px;
        --trans-1: .2s;
        --on-hover-btn-1: translateY(-5%);
        --on-hover-txt-1: .8;

        --color-prime: #fff;
        --color-bg-1: #34495e;
        --color-font-1: #f5f7fd;
        --color-primary: #1abc9c;
        --color-secondary: #7c95a1;
        --color-accent: #5DA0A2;
    }

    *,
    *::after,
    *::before {
        user-select: none;
    }

    body {
        direction: rtl;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        overflow-x: hidden;
        position: relative;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
        background: var(--color-base-1)
    }
    input, button{
        outline: none;
    }

    a {
        text-decoration: none !important;
    }

    #site {
        display: contents
    }

    #site-header,
    #site-footer {
        display: none;
    }

    .header__container {
        padding: .5em 10em;
        margin: auto;
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: var(--ui-drop-shadow-1);
        background-color: var(--color-bg-1);
        position: fixed;
        z-index: 20 !important;
    }

    .report__go {
        display: flex;
        gap: 1em;
        cursor: pointer;
        height: 100%;
        color: var(--color-font-1);
    }

    .report__go p {
        margin: 0 !important;
        transition: var(--trans-1);
        font-size: var(--fs-1);
        padding: .5em var(--padding-container-1);
        border-radius: var(--room-border-radius);
        background-color: #7c95a1;

    }

    .report__go p:hover {
        opacity: var(--on-hover-txt-1);
    }

    .title__container {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        /* margin-inline:  calc(var(--gutter-2)*3); */
        /* padding: var(--padding-text-1); */
        color: var(--color-font-1) !important;
        transition: var(--trans-1);
    }

    .title__container:hover {
        opacity: var(--on-hover-txt-1);
    }

    .app__title {
        margin: 0;
        font-weight: bold;
        font-size: var(--fs-2);

    }

    .small__text {
        margin: 0%;
        font-size: 1rem;
        text-align: center;
        width: 100%;
    }

    .hotels__container {
        width: 100vw;
        position: relative;
        padding: 8em 0 1em;
        display: flex;
        align-items: flex-start;
        flex-direction: column;
        overflow-x: hidden;
    }

    .tools__container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        width: 80%;
        margin: 0 auto;
        padding: var(--padding-container-2) 0;
    }

    .hotel__summary_container {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--gutter-1);
    }

    .summary__label {
        /* font-size: .6rem;
        width: 100%; */

    }
    .hotel__summary {

        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        text-align: center;
        color: var(--color-bg-1);
        cursor: pointer;
        box-shadow: var(--shadow-tile);
        min-width: 30px;
        min-height: 30px;
        background-color: #c1c1c1;
        border-radius: var(--room-border-radius);
        padding: .2em .8em;
        /* gap: 3px; */
        transition: var(--trans-1);

    }

    .hotel__summary>* {
        font-size: .6rem;
        font-weight: 600;
        cursor: pointer;
        margin: 0;
        ;
    }

    .hotel__summary:hover {
        cursor: pointer;
        transform: var(--on-hover-btn-1);
    }

    .hotel__summary:first-child {
        background-color: var(--color-secondary);
    }

    .hotel__summary:nth-child(2) {
        background-color: var(--color-disabled);
    }

    .hotel__summary:nth-child(3) {
        background-color: var(--color-primary);
    }

    .hotel__summary:last-child {
        background-color: var(--color-busy);
    }

    .select__container {
        width: 50%;
        height: 100%;
    }

    .selec__hotel {
        width: 200px;
        border: none;
        background-color: var(--color-accent);
        color: var(--color-base-1);
        box-shadow: var(--shadow-tile);
        border-radius: var(--room-border-radius);
        padding: .4em .8em;
        cursor: pointer;
        outline: none;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

    }

    /* .hotel__wrapper{
    background-color: red;
    display: flex;
    align-items: center;
    justify-content: space-between;
} */
    .hotel__container {
        margin: 0 auto;
        background-color: var(--color-prime);
        border-radius: var(--btn-border-radius);
        width: 90vw;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        flex-direction: column;
        padding: var(--padding-container-2) var(--padding-container-1);
        transition: var(--trans-1);
    }

    .hotel__title {
        margin: 0 0 var(--gutter-1);
        padding: var(--padding-container-1);
        border-radius: var(--btn-border-radius);
        background: var(--color-secondary);
        color: var(--color-font-1);
        box-shadow: var(--shadow-tiles);
        transition: var(--trans-1);
        box-shadow: var(--ui-drop-shadow-1);
        cursor: pointer;
    }

    .hotel__title:hover {
        transform: var(--on-hover-btn-1);
    }

    .chart__container {
        width: 80%;
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
        flex-direction: column;
        gap: var(--gutter-1);
    }

    /* .chart__container:nth-child(2) .hotel__room:nth-child(4n-7) {
        background: var(--busy-color);
    } */

    .storey {
        box-shadow: var(--ui-drop-shadow-1);
        background-color: var(--color-bg-1);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
        position: relative;
        padding: var(--padding-container-2) calc(var(--padding-container-1)*2);
        border-radius: var(--btn-border-radius);
        min-height: 2em;
        width: 90%;
        overflow: hidden;
        margin: var(--gutter-1) auto;


    }

    .storey__body {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
        width: 100%;
    }

    .show__title {
        transform: translate(0%, -10%) !important;
    }

    .storey__title {
        color: var(--color-base-1);
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-size: 30px;
        font-weight: bold;
        transition: var(--trans-1);
        transform: translate(0, -80px);
    }

    .storey__num {
        text-align: center;
        padding: calc(var(--padding-container-1)*.2);
        background-color: var(--color-accent);
        border-bottom-left-radius: var(--room-border-radius);
        border-top-right-radius: var(--room-border-radius);
        color: var(--color-base-1);
        font-size: var(--fs-2);
        font-weight: bold;
        position: absolute;
        top: 0%;
        right: 0px;
        cursor: pointer;
        /* border: var(--color-primary-2) solid 1px; */



    }

    .hotel__room {
        user-select: none;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 3px;
        width: var(--room-size);
        height: var(--room-size);
        transition: var(--trans-1);
        cursor: pointer;
        background: var(--color-secondary);
        color: var(--color-base-1);
        border-radius: var(--room-border-radius);
    }

    .hotel__room:hover {
        transform: var(--on-hover-btn-1);
    }




    /* ============ POPUP AUTH ============== */




    .popup__back {
        position: absolute;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.555);
        top: 0;
        left: 0;
    }

    .popup__container {
        position: fixed;
        background: var(--color-bg-1);
        border-radius: var(--btn-border-radius);
        color: var(--color-font-1);
        font-weight: bold;
        border: 10px solid var(--color-base-1);
        padding: var(--padding-container-1);
        width: 50%;
        top: 50%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    .popup__title {
        font-size: var(--fs-1);
        padding: var(--padding-container-1);
    }

    .input__wrapper {
        width: 100%;
        /* background-color: var(--color-base-1) */
    }

    .apikey__input {
        margin: var(--gutter-1) auto;
        border-radius: var(--room-border-radius);
        background-color: var(--color-base-1);
        text-align: center;
        width: 80%;
        display: block;
        border: none;
        outline: none;
        padding: var(--padding-text-1);
        transition: .2s;
        color: var(--color-bg-1);
        font-weight: bold;
    }

    .apikey__input:focus::-webkit-input-placeholder {
        transform: translateY(-3em);
        transition: .2s;
    }

    .submit__btn {
        display: block;
        margin: 1.3em auto;
        font-size: 1.3rem;
        border: none;
        border-radius: var(--room-border-radius);
        background-color: var(--color-secondary);
        box-shadow: var(--shadow-tile);
        color: aliceblue;
        padding: .7em 1.4em;
        cursor: pointer;
        transition: .2s;
    }

    .submit__btn:hover {
        transform: var(--on-hover-btn-1);
    }

    .dimmed__bg{
        position: fixed;
        width: 100vw;
        height: 100vh;
        background-color: #0707075c;
        top: 0;
        left: -100%;
        z-index: 2;
        transition: .2s;
    }


    .form {
        transition: .4s;
        box-shadow: var(--ui-drop-shadow-2);
        position: fixed;
        width: 100%;
        top: -10%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #CCC;
        padding: 20px;
        border-radius: 10px;
        width: 600px;
        z-index: 3;
    }

    .form,
    .form_fieldset,
    .form-field,
    .form-button {
        border: 0;
    }


    fieldset {
        padding: 0;
        background-color: var(--color-bg-1);
        padding: var(--padding-container-1);
        border-radius: var(--room-border-radius);
    }


    .form-label{
        display: block;
        margin-bottom: 5px;
        color: var(--color-base-1);
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .all-dates {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .form-field {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        height: 35px;
        width: 100%;
        margin-bottom: 30px;
        border-radius: 5px;
        text-indent: 10px;
        font-size: 12px;
    }

    .form-dates {
        width: 48%;
        display: inline-block;
    }

    .form-dates:nth-of-type(2) {
        float: right;
    }



    .btns__container {
        display: flex;
        align-items: center;
        justify-self: space-between;
        padding: var(--padding-container-1);
    }


    .btns__container>* {
        border-radius: var(--room-border-radius);
        box-shadow: var(--ui-drop-shadow-1);
        color: var(--color-bg-1);
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        cursor: pointer;
        margin: 0 auto;
        padding: .4em 3em;
        font-weight: 600;
        font-size: var(--fs-1);
        transition: var(--trans-1);
    }

    .form-button:first-child {
        background-color: var(--color-primary);

    }

    .form-button:last-child {
        background-color: var(--color-disabled);
    }

    .btns__container>*:hover {
        transform: var(--on-hover-btn-1);
    }

    .bg__dim {
        width: 100vw;
        height: 100vh;
        background-color: #0405065f;
        position: fixed;
        left: 0;
        top: 500%;
        z-index: 3;
        transition: var(--trans-1);
    }

    .the__container {
        /* overflow: hidden; */
        position: fixed;
        height: 100vh;
        width: 15px;
        top: 0;
        left: 0;
        z-index: 1;
        /* box-shadow: var(--ui-drop-shadow-2);
        border-bottom-right-radius: var(--room-border-radius);
        background-color: aquamarine; */

    }

    .container__resize {
        position: absolute;
        border-bottom-left-radius: 10px;
        border-top-left-radius: 10px;
        background-color: var(--color-disabled);
        color: var(--color-bg-1);
        cursor: col-resize;
        right: 0px;
        top: 10%;
        border: none;
        width: 4px;
        height: 40px;
        /* box-shadow: 20px 10px 10px 0px #000; */
        transition: var(--trans-1)
    }

    .container__toggle {
        position: absolute;
        border-bottom-right-radius: 10px;
        border-top-right-radius: 10px;
        background-color: var(--color-bg-1);
        color: var(--color-bg-1);
        cursor: pointer;
        right: -10px;
        top: 20%;
        border: none;
        font-size: .9rem;
        width: 15px;
        height: 70vh;
        /* box-shadow: 20px 10px 10px 0px #000; */
        user-select: none;
        transition: var(--trans-1)
    }

    .container__toggle::after {
        content: "";
        color: var(--color-font-1);
        position: absolute;
        top: 50%;
        right: 50%;

    }

    .container__toggle.rotate::after {
        transform: rotate(180deg);
    }

    .container__toggle::after {
        content: "\00AB";
        color: var(--color-font-1);
        position: absolute;
        top: 50%;
        right: 50%;
        font-size: 30px;
        transition: var(--trans-1);
    }

    .container__toggle:hover {
        /* opacity: var(--on-hover-txt-1); */
    }

    .container__body {
        padding: var(--padding-container-1);
        width: 100%;
        margin: 6em 1px;
        display: flex;
        align-items: flex-start;
        justify-content: flex-start;
        flex-wrap: wrap;
        gap: 2px;
    }

    .rooms__container {
        scroll-behavior: smooth;
        overflow-y: scroll;
        border-top-right-radius: var(--btn-border-radius);
        border-bottom-right-radius: var(--room-border-radius);
        width: 0;
        height: 100%;
        width: 100%;
        background-color: var(--color-bg-1);
        display: flex;
        align-items: flex-start;
        justify-content: flex-start;
        flex-wrap: wrap;
    }

    .holder__btn_container {
        margin: 0 auto;
        text-align: center;
        width: 100%;
        align-self: flex-end;

    }

    .disabled {
        background-color: var(--color-disabled);
        pointer-events: none;
        user-select: none;
    }

    .disabled:hover {
        transform: none;
        pointer-events: none;

    }



    .confirm__reserved {
        opacity: 0;
        font-weight: bold;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        color: #fff;
        background-color: var(--color-secondary);
        width: 30%;
        padding: var(--padding-container-1);
        border: none;
        margin: var(--gutter-1) auto;
        border-radius: var(--btn-border-radius);
        box-shadow: var(--ui-drop-shadow-1);
        cursor: pointer;
        transition: var(--trans-1);
        outline: none;
    }

    .confirm__reserved:hover {
        /* width: 40%; */
        filter: brightness(.9);
    }

    .invoice__no {
        width: 15%;
        font-size: 0.6rem;
        padding: 0.3rem;
        text-align: center;
        outline: none;
        border: none;
        cursor: auto;
    }

    .invoice__no:hover {
        transform: none;
    }


    .new__resevedRoom {
        /* margin: 0 auto; */
        user-select: none;
        width: 6em;
        background: var(--color-busy);
        color: var(--color-bg-1);
        border-radius: var(--btn-border-radius);
        padding: .5em;
        border-radius: var(--room-border-radius);
        box-shadow: var(--shadow-tile);
        cursor: pointer;
        transition: var(--trans-1);
    }

    .new__resevedRoom:hover {
        transform: var(--on-hover-btn-1);
    }

    .rooms__container::-webkit-scrollbar {
        display: none;
    }

    .shake {
        animation: shake .5s;
    }

    .shake2 {
        animation: shake 0.5s cubic-bezier(.36, .07, .19, .97);
    }

    @keyframes shake {
        0% {
            transform: translate(1px, 1px) rotate(0deg);
        }

        10% {
            transform: translate(-1px, -2px) rotate(-1deg);
        }

        20% {
            transform: translate(-3px, 0px) rotate(1deg);
        }

        30% {
            transform: translate(3px, 2px) rotate(0deg);
        }

        40% {
            transform: translate(1px, -1px) rotate(1deg);
        }

        50% {
            transform: translate(-1px, 2px) rotate(-1deg);
        }

        60% {
            transform: translate(-3px, 1px) rotate(0deg);
        }

        70% {
            transform: translate(3px, 1px) rotate(-1deg);
        }

        80% {
            transform: translate(-1px, -1px) rotate(1deg);
        }

        90% {
            transform: translate(1px, 2px) rotate(0deg);
        }

        100% {
            transform: translate(1px, -2px) rotate(-1deg);
        }
    }

    @keyframes shake2 {

        10%,
        90% {
            transform: translate3d(-1px, 0, 0);
        }

        20%,
        80% {
            transform: translate3d(2px, 0, 0);
        }

        30%,
        50%,
        70% {
            transform: translate3d(-4px, 0, 0);
        }

        40%,
        60% {
            transform: translate3d(4px, 0, 0);
        }
    }

    .intro__outer {
        width: 100%;
        height: 100%;
        text-align: center;
        padding: 5em 0em;

    }

    .intro__inner {
        width: 85%;
        height: 100%;
        text-align: center;
        padding: 8em 0em;
        margin: 0 auto;
        background-color: var(--color-font-1);
        box-shadow: var(--ui-drop-shadow-2);
        border-radius: var(--btn-border-radius);
        cursor: pointer;
        transition: var(--trans-1);
        color: var(--color-bg-1);

    }

    .intro__inner:hover {
        opacity: var(--on-hover-txt-1);
    }

    .intro__outer p:first-child {
        font-size: 50px;
        font-weight: bold;
    }

    .intro__outer p:last-child {
        font-size: 30px;
        font-weight: bold;
        text-decoration: underline;
    }

    .intro__outer p {
        text-align: center;
        margin: var(--gutter-1);
    }


    .timeline__wrapper{
        position: fixed;
        top: 11%;
        right: -100%;
        width: 50%;
        z-index: 1;
        background-color: var(--color-bg-1);
        transition: .4s;
        border-radius: var(--btn-border-radius);
        box-shadow: var(--ui-drop-shadow-2);
        padding: var(--padding-container-1);
    }
    .timeline__container{
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: start;
    background-color: #CCC;
    padding: var(--padding-container-1);
    border-radius: var(--btn-border-radius);
}
.timeline__tile{
    width: 100%;
    padding: var(--padding-container-1);
    }
    .tile__details{
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: start;
        background-color: var(--color-disabled);
        border-radius: var(--btn-border-radius);
    }
    .tile__date_time{
        display: flex;
        padding: 2px var(--padding-text-1);
        gap: 14px;
        background-color: #a3a3a3;
        border-radius: var(--btn-border-radius);
        border-bottom-right-radius: 0;
        border-bottom-left-radius: 0;
    justify-content: flex-start;
    width: 100%;
}
.tile__body{
    padding: 7px 1em;
margin: 0;
}
.show__timeline{
    right: 0;
}

</style>

<body>
    <div class="header__container">
        <a href="https://mohamedbadeny2022.daftra.com/contents/process_content/reservation_module"
            class="title__container">
            <p class="app__title">شركة ل ا ق و ن</p>
            <p class="small__text">لخدمات السفر والاعتمار</p>
        </a>
        <div class="report__go">
            <p class="timeline__btn">سجل النشاطات</p>
            <p class="">اذهب للتقاير</p>
        </div>
    </div>



    <div class="hotels__container">
        <div class="tools__container">
            <div class="select__container">
                <select name="hotels" class="selec__hotel">
                    <option class="option1" selected="selected">-- اختر الفندق --</option>
                </select>
            </div>
            <div class="hotel__summary_container">
                <div class="hotel__summary">
                    <label class="summary__label">الكل</label>
                    <div class="summary__figure">-</div>
                </div>
                <div class="hotel__summary">
                    <label class="summary__label">محجوز</label>
                    <div class="summary__figure">-</div>
                </div>
                <div class="hotel__summary">
                    <label class="summary__label">خالي</label>
                    <div class="summary__figure">-</div>
                </div>
                <div class="hotel__summary">
                        <label class="summary__label">آخر حجز</label>
                        <div class="summary__figure">-</div>
                </div>
            </div>

        </div>

        <div class="intro__outer">
            <div class="intro__inner">

                <p>أهلًا بكم في برنامج حجز شركة ل ا ق و ن <br> لخدمات السفر والاعتمار</p>

                <p>اختار فندق من القائمة لمباشرة العمل </p>
            </div>
        </div>

    </div>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"
        integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script>
        $(document).ready(() => {

            // ============ POPUP AUTH ============== 

            const apiKey = "pop"
            const popUpElement = `
            <div class="popup__back">
        <div class="popup__container">
            <div class="popup__title">من فضلك أدخل كلمة  الدخول</div>
            <div class="input__wrapper">
                <input class="apikey__input" type="text" placeholder="e.g rgw3242342" />
                <input class="submit__btn" type="submit" /></div>
        </div>
    </div>
            `
            // $("body").append(popUpElement)


            $(".submit__btn").click(() => submitFn())
            $(".apikey__input").keypress(e => {
                if (e.which === 13) submitFn()
            })


            const submitFn = () => {
                let apiInput = $(".apikey__input").val()
                if (apiKey == apiInput) {

                    $(".popup__back").fadeOut()
                }
            }




            // ============ Reservedd Rooms Container ==============

            let theContainer = `
            <div class="the__container">
                <span class="container__toggle" data-status="0"><i class="toggle__mark fa-solid fa-chevrons-right"></i></span>
                <span class="container__resize"></span>
                <div class="rooms__container">
                <div class="container__body">
                        </div>
                    
                <div class="holder__btn_container">
                <button type="button" class="confirm__reserved disabled">احجز</button>
                    </div>
                    
                    </div>
                    
                
                

            </div>
            `

            $(".header__container").after(theContainer)
            toggleOnClick()
            containerResize()
            let contWidth = 600;

            function containerResize() {
                let resizedContainer = $(".the__container"),
                    resizer = $(".container__resize");
                dragMouseDown()

                function dragMouseDown() {
                    resizer.mousedown(e => {
                        let dragY = e.clientX;
                        $(document).mousemove(e => {
                            resizedContainer.css({
                                width: `${resizedContainer.outerWidth() + e.clientX - dragY + "px"}`
                            })
                            dragY = e.clientX;
                            contWidth = dragY
                            if (contWidth < 190) {
                                $(".confirm__reserved").css({
                                    transform: "translateY(100px)"
                                })
                                $(".container__toggle").addClass("rotate")

                            } else {
                                $(".confirm__reserved").css({
                                    transform: "translateY(0)",
                                    opacity: "1"
                                })
                                $(".container__toggle").addClass("rotate")


                            }
                        })
                    })
                }

                $(document).mouseup(() => {
                    resizer.unbind("mousedown");
                    $(document).unbind("mousemove");

                    setTimeout(() => {
                        dragMouseDown()

                    }, 500)
                })

            }


            function toggleOnClick() {
                $(".container__toggle").click(function () {
                    $this = $(this)
                    $thisContainer = $this.parent()
                    $thisWidth = $this.parent().width()
                    if ($thisWidth > 15) {

                        $thisContainer.animate({
                            "width": `15px`
                        })
                        $this.attr("data-status", "0")
                        $(".confirm__reserved").css({
                            transform: "translateY(100px)"
                        })
                        $this.removeClass("rotate")
                    } else {

                        $this.addClass("rotate")

                        if ($this.attr("data-status") == "0") {
                            $thisContainer.animate({
                                "width": `+=${contWidth}px`
                            })
                            $this.attr("data-status", "1")
                            if (contWidth > 190) {
                                $(".confirm__reserved").css({
                                    transform: "translateY(0)",
                                    opacity: "1"
                                })
                            }

                        } else if ($this.attr("data-status") == "1") {
                            $thisContainer.animate({
                                "width": `15px`
                            })
                            $this.attr("data-status", "0")
                            $(".confirm__reserved").css({
                                transform: "translateY(100px)"
                            })
                        }

                    }

                })
            }

            // ============ RESERVATION FORM ============
            let dimmedBG = `
            <div class="dimmed__bg"></div>
            `
            let reserveForm = `
                                            <form class="form">
                                                     <fieldset class="form_fieldset">
                            <div class="all-dates">
                            <div class="form-dates">
                              <label for="" class="form-label">حجز من</label>
                              <input type="date" class="form-field form-field--side from_date" />
                            </div>
                            <div class="form-dates">
                              <label for="" class="form-label">حجز إلى</label>
                              <input type="date" class="form-field to_date" />
                            </div>
                        </div>
                            <div clas="client__menu">
                                <label class="form-label">اختر العميل</label>
                                <select class="select__client form-field"></select>
                               
                            </div>
                            
                            <div class="btns__container">
                            <input type="button" value="تأكيد" class="form-button confirm" />
                            <input type="text" placeholder="رقم الفاتورة" class="invoice__no" />
                            <input type="button" value="إلغاء" class="form-button cancel" />
                          </div>
                            </fieldset>
                        </form>`
            $(".header__container").after(dimmedBG)
            $(".header__container").after(reserveForm)

            $(".to_date, .from_date, .invoice__no").on("input", function(){
                $this = $(this)
                $this.val() != "" ? $this.css({border: "none"}) : ""
            })
            $(".confirm__reserved").click(function () {
                $this = $(this)
                $(".form").css({
                    top: "35%"
                })
                $(".dimmed__bg").css({
                    left: 0
                })
            })

            $(".dimmed__bg").click(()=>{
                $(".form").css({
                    top: "-20%"
                })
                $(".dimmed__bg").css({
                    left: "-100%"
                })

            })
            $(".cancel").click(() => {
                $(".form").css({
                    top: "-10%"
                })
                $(".from_date").val("")
                $(".to_date").val("")
            })
            $(".confirm").click(() => {
                $(".to_date, .from_date, .invoice__no").css({
                            border: "none"})
                let fromDate = $(".from_date").val()
                let toDate = $(".to_date").val()
                let invNum = $(".invoice__no").val()
                let todayDate = new Date().toLocaleDateString()
                let nowTime = new Date().toLocaleTimeString()
                console.log(fromDate, toDate, invNum)
                
                setTimeout(()=>{
                $(".to_date, .from_date, .invoice__no").removeClass("shake")
                    },500)
                if (toDate == "" || fromDate == "" || invNum == "") {
                    $(".to_date, .from_date, .invoice__no").map((i,v) => {
                        $(v).val() == "" ? 
                        $(v).addClass("shake").css({
                            border: "1px solid red"
                        }) : $(v).css({
                            border: "none"})
                    })
                } else if (fromDate > toDate) {
              
                    $(".from_date").addClass("shake").css({
                        border: "1px solid red"
                    })

                } else {
                    ReservingRooms(fromDate, toDate, invNum, todayDate, nowTime)
                }
            })


            function timeLine(){  
                let hotelName = $(".selec__hotel :selected").text()
                $(".timeline__container").html(`<h3 style="text-decoration:underline">${hotelName}</h3>`)
                $(".timeline__container").html()
                
                let allTimeline = $(".selec__hotel :selected").data("desc").split("-")
                for(let i = 0; i< allTimeline.length; i++){
                let $thisTile = allTimeline[i]
                    // allTimeline.map((i,v)=>{
                        if(/\:/.test($thisTile)){
                            let lastColon = $thisTile.lastIndexOf(":")

                            let timelineDate = $thisTile.slice(0,lastColon).split("@")[0]
                            let timelineTime = $thisTile.slice(0,lastColon).split("@")[1]
                            let timelineBody = $thisTile.slice(lastColon+1)
    
                            let timelineTile = `
                    <div class="timeline__tile">
                        <div class="tile__details">
                            <div class="tile__date_time">
                                <span class="tile__date">تاريخ: ${timelineDate}</span>
                                <span>|</span>
                                <span class="tile__time">وقت: ${timelineTime}</span>
                                </div>
                            <div class="tile__body_container">
                                <p class="tile__body">${timelineBody}</p>
                                </div>
                        </div>
                    `
                    $(".timeline__container").append(timelineTile)
                        }else{
                            continue
                        }
                    // })
                }

            }

            function confirmRezBtn() {
                $(".the__container").mousemove(() => {
                    let contChildren = $(".container__body").children().length
                    if (contChildren === 0) {
                        $(".confirm__reserved").addClass("disabled")
                    } else {
                        $(".confirm__reserved").removeClass("disabled")
                    }

                })

            }

            function ReservingRooms(fromDate, toDate, invNum, todayDate, nowTime){

let hotelID = $(".selec__hotel :selected").val()
let serialID = $(".selec__hotel :selected").data("serial-id")
let hotelDesc = $(".selec__hotel :selected").data("desc")
let roomsToReseve = $(".container__body").children()
let roomReservedCount = roomsToReseve.length

let thisDescription = `
- ${todayDate+ "@" +nowTime}: تم حجز عدد ${roomReservedCount} غرف/ة من تاريخ ${fromDate} إلى تاريخ ${toDate} برقم فاتورة ${invNum}
`
hotelDesc+= thisDescription


$(".hotel__summary:last-child").attr("data-last-reservation", roomReservedCount)

roomsToReseve.map((i, v) => {
    let roomID = $(v).data("room-id")
    let roomName = $(v).data("room-name")
    let reserveThisRoom = `{
            "number": {"generated":"10","code":"10"},
            "title": ${roomName},
            "start_date": ${fromDate},
            "delivery_date": ${toDate}
        }`
        let url = `/v2/api/entity/le_workflow-type-entity-${hotelID}/${roomID}`
        console.log(url, hotelDesc)
    $.ajax({
        url: url,
        method: "PUT",
        contentType: "application/json",
        accepts: "application/json",
        data: JSON.stringify(reserveThisRoom)
    }).done(() => {

        console.log("success")

    })
})
// .done(() => {
//     let updateHotel = `
//                                     {
//                     "number": {
//                         "generated": "0",
//                         "code": "0"
//                     },
//                     "title": "",
//                     "id": ${roomID},
//                     "start_date": ${todayDate},
//                     "delivery_date": ${toDate}
//                 }
//                 `
//     $.ajax({
//         url: `https://mohamedbadeny2022.daftra.com/v2/api/entity/${baseEntity}/${serialID}`,
//         method: "PUT",
//         contentType: "json/application",
//         data: JSON.stringify(updateHotel)
//     })
// })




}


            function roomFunction() {
                let allRooms = $(".hotel__room")

                let reservedRoom = "rgb(231, 92, 66)"
                let vacantRoom = "rgb(124 149 161)"

                allRooms.click(function (e) {

                    $this = $(this)
                    if ($this.css("backgroundColor") != reservedRoom) {

                        $this.attr("data-res", true)
                        $this.css({
                            backgroundColor: reservedRoom
                        })
                        let roomNum = $this.data("room")
                        let roomID = $this.data("room-id")
                        let roomName = $this.data("room-name")
                        let newResevedRoom = `
                    <div class="new__resevedRoom" style="opacity:0" data-room="${roomNum}" data-room-id="${roomID}" data-room-name="${roomName}">${roomNum}</div>
                `

                        $(".container__body").append(newResevedRoom)
                        $(".new__resevedRoom:last-child").animate({
                            opacity: "1"
                        }, 300)

                        let allReservedRooms = $(".new__resevedRoom")
                        let lastAdded = $(allReservedRooms).last()
                        let sameRoom = allReservedRooms.filter((i, v) => (lastAdded.data("room") == $(v)
                                .data("room"))).length > 1 ? lastAdded.remove() :

                            allReservedRooms.click(function () {
                                let $this = $(this)
                                $this.fadeOut(300).remove()
                                let filtered1 = allRooms.filter((i, v) => $(v).data("room") == $(
                                        this)
                                    .data("room"))
                                filtered1.eq(0).css({
                                    backgroundColor: vacantRoom
                                })
                            })


                    } else {
                        $this.attr("data-res", false)

                        $this.css({
                            backgroundColor: vacantRoom
                        })
                        var allReserved = $(".new__resevedRoom")
                        filtered2 = allReserved.filter((i, v) => $(v).data("room") == $this
                            .data("room"))
                        filtered2.eq(0).fadeOut(300).remove()
                    }

                })

                $(".storey__num").click(function () {
                    $this = $(this)
                    $this.siblings(".storey__body").slideToggle()
                    $this.siblings(".storey__title").toggleClass("show__title")
                })
            }

            let baseEntity = "le_workflow-type-entity-7"
            appendDomElements()
            function appendDomElements(){

                // ========== Timeline Container =========
                let timelineContainer = `
                <div class="timeline__wrapper">
                    <div class="timeline__container">
                        <h3>اختر الفندق ليظهر سجل النشاطات الخاص به.</h3>
                        </div>
                        </div>
                        `
                        $(".header__container").after(timelineContainer)
                        
                        
                        // ========== Toggle Timeline =========
                        $(".timeline__btn").click(()=>{
                            $(".timeline__wrapper").toggleClass("show__timeline")
                        })
                        // ========== NEW DOM =========
                        
                        
                        
                        
                    }
                    
                    
            $.get(`/api2/clients`, data => {
                data.data.map(v=>{
                    let $thisClient = v.Client
                    $(".select__client").append(
                        `<option value="${$thisClient.id}">${$thisClient.business_name}</option>`)
                })
                })
            $.get(`/v2/api/entity/${baseEntity}/list`, data => {
                console.log(data)
                data.data.map(hotel => {
                    let serialID = hotel.id
                    let hotelDesc = hotel.description
                    let hotelTitle = hotel.title
                    let hotelCustomData = hotel[
                        "le_workflow-type-entity-7_custom_data"
                    ]
                    let hotelName = hotelCustomData.hotel_name
                    let hotelID = hotelCustomData.hotel_id
                    let roomsPerStorey = +hotelCustomData.storey_rooms
                    let storeyCount = +hotelCustomData.storeys_count
                    let lastReserved = +hotelCustomData.last_reserved
                    let reservedRooms = hotelCustomData.reserved_rooms || 0
                    let allRoomsCount = storeyCount * roomsPerStorey
                    let vacantCount = allRoomsCount - reservedRooms || 0

                    $(".selec__hotel").append(
                        `<option value="${hotelID}" data-serial-id="${serialID}" data-rooms="${allRoomsCount}" data-storeys="${storeyCount}" data-rooms-storey="${roomsPerStorey}" data-reserved="${reservedRooms}" data-desc="${hotelDesc}">${hotelName}</option>`
                    )
                })
            })











            $(".selec__hotel").change(function () {
                $this = $(this).find(":selected")
                let hotelID = $this.val()
                let hotelName = $this.text()
                let storeyCount = +$this.data("storeys")
                let roomsStorey = +$this.data("rooms-storey")
                let roomsCount = +$this.data("rooms")
                let reservedCount = +$this.data("reserved")
                let lastReserved = +$this.data("last-reserved")
                let vacantCount = roomsCount - reservedCount


                $(".summary__figure").eq(0).html(roomsCount)
                    $(".summary__figure").eq(1).html(reservedCount)
                    $(".summary__figure").eq(2).html(vacantCount)
                    // $(".summary__figure").eq(3).html(lastReserved)
                // $.get(`/v2/api/entity/workflow_type/list?per_page=2000`, data => {
                $(".timeline__container").html(`<h3>لا يوجد سجل نشاطات لهذا الاختيار</h3>`)

                $.get(`/v2/api/entity/le_workflow-type-entity-${hotelID}/list?per_page=2000`, data => {
                    let allRooms = data.data
                    let hotelStruct = `
                        <div class="hotel__container hotel__container${hotelID} hotel_${hotelID}">
                                    <h1 class="hotel__title">${hotelName}</h1>
                                    <div class="chart__container chart__container${hotelID}">

                                        </div>
                                    </div>
                        `
                    $(".intro__outer").fadeOut(500)
                    $(".hotels__container").append(hotelStruct)
                    $(`.hotel__container${hotelID}`).html("")
                    let storeyObj = {
                        1: "الدور الأول",
                        2: "الدور الثاني",
                        3: "الدور الثالث",
                        4: "الدور الرابع",
                        5: "الدور الخامس",
                        6: "الدور السادس",
                        7: "الدور السابع",
                        8: "الدور الثامن",
                        9: "الدور التاسع",
                        10: "الدور العاشر",
                        11: "الدور الحادي عشر",
                        12: "الدور الثاني عشر",
                        13: "الدور الثالث عشر",
                        14: "الدور الرابع عشر",
                        15: "الدور الخامس عشر",
                        16: "الدور السادس عشر",
                        17: "الدور السابع عشر",
                        18: "الدور الثامن عشر",
                        19: "الدور التاسع عشر",
                        20: "الدور العشرون"
                    }
                    let storeyNum = 0;
                    while (storeyNum < storeyCount) {
                        storeyNum++
                        let storeyStruct = `
                        <div class="storey story_${storeyNum}" data-hotel="${hotelID}" data-storey="${storeyNum}" data-storeytitle="${storeyObj[storeyNum]}">
                        <span class="storey__num">${storeyNum}</span>
                        <span class="storey__title">${storeyObj[storeyNum]}</span>
                        <div class="storey__body"></div>
                    </div>
                        `
                        $(`.hotel__container${hotelID}`).append(storeyStruct)

                        let rangedRooms = allRooms.slice((storeyNum-1)*roomsStorey)
                        let i = 0
                        while(i< 20) {
                    
                            let $thisRoom = rangedRooms[i]
                            let todayDate = new Date()
                            todayDate = todayDate.toLocaleDateString()
                            console.log(todayDate)
                           let roomName = $thisRoom.title
                           let roomID = $thisRoom.id
                           let roomNum = roomName.split(" ")[1]
                           let roomStartDate = $thisRoom.start_date
                            let roomDeliveryDate = $thisRoom.delivery_date
                            if(roomDeliveryDate == todayDate) console.log("yup!")
                            bookedRoom = roomDeliveryDate ? true : false

                            bookedRoom ? $($thisRoom).addClass("disabled") : $($thisRoom)
                                .removeClass("disabled")

                            let newRoom = `<div class="hotel__room" data-room="${storeyObj[storeyNum]} - غرفة ${roomNum}" data-room-id="${roomID}"
                            data-start-date="${roomStartDate}" data-delivery-date="${roomDeliveryDate}" data-room-name="${roomName}"
                        data-booked="${bookedRoom}">
                        <p style="margin:auto">${roomNum}</p>
                        </div>`
                            $(`.story_${storeyNum}`).find(".storey__body").append(
                                newRoom)
                                i++
                        }

                    }
                }).done(() => {
                    roomFunction()
                    confirmRezBtn()
                    timeLine()
                })

            })


        })
    </script>
</body>

</html>